name: CI

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

jobs:
  changes:
    uses: LevitateOS/LevitateOS/.github/workflows/detect-changes.yml@master
    with:
      type: bun

  ci:
    needs: changes
    if: needs.changes.outputs.has_changes == 'true'
    uses: LevitateOS/LevitateOS/.github/workflows/bun-ci.yml@master
    with:
      run-build: true
      upload-dist: true
