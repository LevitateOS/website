---
import BaseLayout from "../layouts/BaseLayout.astro"
import Header from "../components/layout/Header.astro"
import Footer from "../components/layout/Footer.astro"
import DownloadCard, { type Props as DownloadCardProps } from "../components/DownloadCard.astro"

const variants: DownloadCardProps[] = [
	{
		title: "LevitateOS",
		logo: "/levitateos-dark.png",
		stack: "glibc / systemd / GNU",
		description: "The pragmatic choice. Run any Linux software without patching, use familiar tools, and find answers to every question online. Pick this if you want things to just work.",
		pros: [
			"All Linux software works",
			"Rocky 10 RPMs available",
			"systemd service management",
			"Familiar GNU tools",
		],
		cons: [
			"Larger binaries",
			"Slower boot time",
			"More RAM usage",
		],
		status: "coming-soon",
		minRam: "8 GB",
		recRam: "16 GB",
		minDisk: "64 GB",
		recDisk: "256 GB",
	},
	{
		title: "AcornOS",
		logo: "/acornos-dark.png",
		stack: "musl / OpenRC / busybox",
		description: "The purist choice. Boots in seconds, uses less memory, and keeps things simple. You'll occasionally patch or compile software yourself, but you'll understand exactly what's running.",
		pros: [
			"Faster boot time",
			"Lower RAM usage",
			"Smaller disk footprint",
			"Simpler init system",
		],
		cons: [
			"Some software needs patching",
			"Fewer pre-built packages",
			"Less documentation online",
		],
		status: "planned",
		minRam: "4 GB",
		recRam: "8 GB",
		minDisk: "32 GB",
		recDisk: "128 GB",
	},
]
---

<BaseLayout
	title="Download - LevitateOS"
	description="Download the LevitateOS ISO. Choose between glibc/systemd or musl/OpenRC variants. Manual installation, full control over your system."
>
	<div class="flex min-h-screen flex-col">
		<Header />
		<main class="flex-1">
			<div class="container py-12">
				<h1 class="text-3xl font-bold mb-3">Download</h1>
				<p class="text-lg text-muted-foreground mb-6">
					Two variants, same philosophy: base system you build up yourself.
				</p>

				<!-- Global requirements -->
				<div class="bg-muted/30 border border-border rounded-lg p-4 sm:p-6 mb-8">
					<h2 class="font-semibold mb-4">Requirements (all variants)</h2>
					<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
						<div class="flex sm:block gap-3">
							<div class="text-muted-foreground mb-1 w-20 sm:w-auto shrink-0">CPU</div>
							<div>
								<div>Intel Core 4th gen+ (Haswell)</div>
								<div>AMD Ryzen 1000+ (Zen)</div>
							</div>
						</div>
						<div class="flex sm:block gap-3">
							<div class="text-muted-foreground mb-1 w-20 sm:w-auto shrink-0">Boot</div>
							<div>
								<div>UEFI required</div>
								<div>Secure Boot disabled</div>
							</div>
						</div>
						<div class="flex sm:block gap-3">
							<div class="text-muted-foreground mb-1 w-20 sm:w-auto shrink-0">Arch</div>
							<div>x86_64 only</div>
						</div>
					</div>
				</div>

				<!-- Variant cards -->
				<div class="flex flex-col gap-6 mb-8">
					{variants.map((variant) => (
						<DownloadCard {...variant} />
					))}
				</div>

				<!-- Security disclaimer -->
				<div class="bg-muted/30 border border-border p-4">
					<h2 class="font-semibold mb-2 flex items-center gap-2">
						<svg class="h-4 w-4" viewBox="0 0 256 256" fill="currentColor">
							<path d="M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88a88.1 88.1 0 0 1-88 88Zm-8-80V80a8 8 0 0 1 16 0v56a8 8 0 0 1-16 0Zm20 36a12 12 0 1 1-12-12a12 12 0 0 1 12 12Z"/>
						</svg>
						Before Installing
					</h2>
					<p class="text-sm text-muted-foreground">
						LevitateOS has full hardware access and can overwrite disk contents.
						<strong class="text-foreground">Back up important data.</strong>
						No telemetry collected.
						<a href="/docs/getting-started#download" class="text-primary hover:underline">Verify checksums</a> before installing.
						<a href="https://github.com/AshKetchupsern/LevitateOS" target="_blank" rel="noopener" class="text-primary hover:underline">Source on GitHub</a>.
					</p>
				</div>

				<!-- Installation -->
				<div class="bg-card border p-4 mb-8">
					<h2 class="font-semibold mb-2">Installation</h2>
					<p class="text-sm text-muted-foreground mb-3">
						The live ISO boots into a split-screen tmux session: shell on the left, docs on the right.
						Follow the <a href="/docs/installation" class="text-primary hover:underline">Installation Guide</a> step-by-step.
						Similar to Arch Linux: partition, extract with recstrap, configure, install bootloader.
					</p>
					<div class="text-xs text-muted-foreground font-mono">
						Shift+Tab: switch panes | Ctrl+←/→: resize | j/k: scroll docs
					</div>
				</div>
			</div>
		</main>
		<Footer />
	</div>
</BaseLayout>
