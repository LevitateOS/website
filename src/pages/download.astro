---
import BaseLayout from "../layouts/BaseLayout.astro"
import Header from "../components/layout/Header.astro"
import Footer from "../components/layout/Footer.astro"
import DownloadCard, { type Props as DownloadCardProps } from "../components/DownloadCard.astro"

const variants: DownloadCardProps[] = [
	{
		variant: "levitate",
		title: "LevitateOS",
		logo: "/levitateos_logo.png",
		stack: "glibc / systemd / GNU",
		description: "The pragmatic choice. Run any Linux software without patching, use familiar tools, and find answers to every question online. Pick this if you want things to just work.",
		pros: [
			"All Linux software works",
			"Rocky 10 RPMs available",
			"systemd service management",
			"Familiar GNU tools",
		],
		cons: [
			"Larger binaries",
			"Slower boot time",
			"More RAM usage",
		],
		status: "coming-soon",
		x86_64Date: "Feb/Mar 2026",
		aarch64Date: "Mar/Apr 2026",
		minRam: "8 GB",
		recRam: "16 GB",
		minDisk: "64 GB",
		recDisk: "256 GB",
	},
	{
		variant: "ralph",
		title: "RalphOS",
		logo: "/ralphos_logo.png",
		stack: "Ralph4Days Sandbox",
		description:
			"Agent-only appliance OS for running ralphd and isolated automation sandboxes. Designed to boot, provision, and run unattended.",
		pros: [
			"Immutable-only (no mutable mode)",
			"Atomic A/B updates + rollback",
			"QCOW2-only (preinstalled disk image)",
			"Provision-and-go (SSH key)",
		],
		cons: [
			"Not a desktop OS",
			"Not intended for interactive live repair",
			"Stricter defaults (locked down by design)",
		],
		status: "planned",
		x86_64Date: "Apr/Jun 2026",
		aarch64Date: "May/Jul 2026",
		minRam: "4 GB",
		recRam: "8 GB",
		minDisk: "32 GB",
		recDisk: "128 GB",
		formats: ["qcow2"],
	},
	{
		variant: "acorn",
		title: "AcornOS",
		logo: "/acornos_logo.png",
		stack: "musl / OpenRC / busybox",
		description: "The purist choice. Boots in seconds, uses less memory, and keeps things simple. You'll occasionally patch or compile software yourself, but you'll understand exactly what's running.",
		pros: [
			"Faster boot time",
			"Lower RAM usage",
			"Smaller disk footprint",
			"Simpler init system",
		],
		cons: [
			"Some software needs patching",
			"Fewer pre-built packages",
			"Less documentation online",
		],
		status: "planned",
		x86_64Date: "Mar/May 2026",
		aarch64Date: "Apr/Jun 2026",
		minRam: "4 GB",
		recRam: "8 GB",
		minDisk: "32 GB",
		recDisk: "128 GB",
	},
]
---

<BaseLayout
	title="Download - LevitateOS"
	description="Download LevitateOS variants. Desktops ship as live ISOs; appliances ship as disk images. A/B immutable by default, mutable optional."
>
	<div class="flex min-h-screen flex-col">
		<Header />
		<main class="flex-1">
			<div class="container py-8">
				<h1 class="text-2xl font-medium mb-3">Download</h1>
				<p class="text-sm text-muted-foreground mb-6">
					Variants, same philosophy: recipe-built systems with atomic A/B updates by default.
				</p>

				<!-- Global requirements -->
				<div class="bg-muted/30 border border-border px-5 py-4 mb-6">
					<h2 class="font-medium text-sm mb-3">Requirements (all variants)</h2>
					<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
						<div class="flex sm:block gap-2">
							<div class="text-muted-foreground mb-0.5 w-16 sm:w-auto shrink-0">CPU</div>
							<div>
								<div>Intel Core 4th gen+ (Haswell)</div>
								<div>AMD Ryzen 1000+ (Zen)</div>
							</div>
						</div>
						<div class="flex sm:block gap-2">
							<div class="text-muted-foreground mb-0.5 w-16 sm:w-auto shrink-0">Boot</div>
							<div>
								<div>UEFI required</div>
								<div>Secure Boot disabled</div>
							</div>
						</div>
						<div class="flex sm:block gap-2">
							<div class="text-muted-foreground mb-0.5 w-16 sm:w-auto shrink-0">Arch</div>
							<div>
								<div>x86_64</div>
								<div>AArch64</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Variant cards -->
				<div class="flex flex-col gap-4 mb-6">
					{variants.map((variant) => (
						<DownloadCard {...variant} />
					))}
				</div>

				<!-- Security disclaimer -->
				<div class="bg-muted/30 border border-border px-5 py-4">
					<h2 class="font-medium text-sm mb-2 flex items-center gap-2">
						<svg class="size-5" viewBox="0 0 256 256" fill="currentColor">
							<path d="M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88a88.1 88.1 0 0 1-88 88Zm-8-80V80a8 8 0 0 1 16 0v56a8 8 0 0 1-16 0Zm20 36a12 12 0 1 1-12-12a12 12 0 0 1 12 12Z"/>
						</svg>
						Before Installing
					</h2>
					<p class="text-sm text-muted-foreground">
						LevitateOS has full hardware access and can overwrite disk contents.
						<strong class="text-foreground">Back up important data.</strong>
						No telemetry collected.
						<a href="/docs/getting-started#download" class="text-primary hover:underline">Verify checksums</a> before installing.
						<a href="https://github.com/LevitateOS/LevitateOS" target="_blank" rel="noopener" class="text-primary hover:underline">Source on GitHub</a>.
					</p>
				</div>

				<!-- Installation -->
				<div class="bg-card border px-5 py-4 mt-6 mb-6">
					<h2 class="font-medium text-sm mb-2">Installation</h2>
					<p class="text-sm text-muted-foreground mb-3">
						Desktop variants ship as a live ISO that boots into a split-screen tmux session: shell on the left, docs on the right.
						Follow the <a href="/docs/installation" class="text-primary hover:underline">Installation Guide</a> step-by-step.
						Partition, extract with recstrap, configure, install systemd-boot. A/B is the default layout.
					</p>
					<div class="text-sm text-muted-foreground font-mono">
						Shift+Tab: switch panes | Ctrl+←/→: resize | j/k: scroll docs
					</div>
				</div>
			</div>
		</main>
		<Footer />
	</div>
</BaseLayout>
