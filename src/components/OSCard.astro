---
import LevitateTextLogo from "./brand/LevitateTextLogo.astro"
import RalphTextLogo from "./brand/RalphTextLogo.astro"
import AcornTextLogo from "./brand/AcornTextLogo.astro"

interface Props {
	variant: "levitate" | "ralph" | "acorn"
	name: string
	stack: string
	description: string
	features: string[]
	logo: string
	builderDescription?: string
}

const { variant, name, stack, description, features, logo, builderDescription } = Astro.props

const accent = variant === "levitate" ? "var(--spectrum-4)" : variant === "ralph" ? "var(--spectrum-5)" : "var(--spectrum-1)"
const lightLogo = logo.endsWith("-trace.svg") ? logo.replace("-trace.svg", "-trace-light.svg") : logo
---

<div class="ui-panel ui-lift h-full overflow-hidden p-5 flex flex-col" style={`--os-accent:${accent};`}>
	<div class="mb-3 flex items-start gap-4 border-b border-border pb-3">
		<img
			src={lightLogo}
			data-dark-src={logo}
			data-light-src={lightLogo}
			alt={name}
			loading="lazy"
			class="mt-0.5 size-16 shrink-0 object-contain"
		/>
		<div class="min-w-0 flex-1">
			<h3 class="min-w-0 text-lg font-semibold leading-tight">
				{variant === "levitate" ? (
					<LevitateTextLogo className="text-lg" />
				) : variant === "ralph" ? (
					<RalphTextLogo className="text-lg" />
				) : (
					<AcornTextLogo className="text-lg" />
				)}
			</h3>
			<p class="mt-1 font-mono text-xs text-muted-foreground">{stack}</p>
		</div>
	</div>

	<p class="text-sm text-muted-foreground mb-4">{description}</p>

	<ul class="space-y-2 text-sm">
		{features.map((feature) => (
			<li class="flex items-start gap-2">
				<span class="mt-0.5 inline-grid size-4 shrink-0 place-items-center border" style="border-color: var(--os-accent);">
					<svg class="size-2.5" viewBox="0 0 256 256" fill="currentColor" style="color: var(--os-accent);">
						<path d="M229.66 77.66l-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69l122.34-122.35a8 8 0 0 1 11.32 11.32Z" />
					</svg>
				</span>
				<span class="text-muted-foreground">{feature}</span>
			</li>
		))}
	</ul>

	{builderDescription && (
		<div class="mt-auto pt-4 border-t border-border">
			<p class="text-sm text-muted-foreground">{builderDescription}</p>
		</div>
	)}
</div>
