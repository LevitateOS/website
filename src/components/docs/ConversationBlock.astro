---
import type { ConversationBlock } from "@levitate/docs-content"
import InlineContent from "./InlineContent.astro"

interface Props {
	conversation: ConversationBlock
}

const { conversation } = Astro.props
---

<div
	class="ring-foreground/10 bg-card text-card-foreground gap-3 overflow-hidden py-5 text-sm leading-relaxed ring-1 group/card flex flex-col mb-4"
>
	<div class="px-5 space-y-2">
		{
			conversation.messages.map((msg) => (
				<div>
					<span class={msg.role === "user" ? "text-primary font-medium" : "text-muted-foreground font-medium"}>
						{msg.role === "user" ? "You:" : "AI:"}
					</span>
					<span class="ml-2">
						<InlineContent content={msg.text} />
					</span>
					{msg.list && (
						<ul class="list-disc list-inside ml-4 mt-1">
							{msg.list.map((item) => (
								<li>
									<InlineContent content={item} />
								</li>
							))}
						</ul>
					)}
				</div>
			))
		}
	</div>
</div>
