---
import CodeBlock from "./CodeBlock.astro"

const features = [
	"No upstream — you control updates directly",
	"Recipes are code you can read and modify",
	"No package database — state lives in recipes",
	"Local LLM available to help with maintenance",
]
---

<section
	id="hero"
	class="relative min-h-[80vh] flex flex-col items-center justify-center text-center py-16 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent"
>
	<div class="container flex flex-col items-center">
		<!-- Logo -->
		<div class="animate-in fade-in slide-in-from-bottom-4 duration-700">
			<picture>
				<source srcset="/levitateos-dark.png" media="(prefers-color-scheme: dark)" />
				<img
					id="hero-logo"
					src="/levitateos-light.png"
					alt="LevitateOS"
					class="h-80 w-auto"
				/>
			</picture>
		</div>

		<!-- Headline -->
		<h1
			class="animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100 fill-mode-backwards mt-6 text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight"
		>
			Be your own
			<br />
			<span class="text-primary">package maintainer</span>
		</h1>

		<!-- Subheadline -->
		<p
			class="animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200 fill-mode-backwards mt-4 text-lg text-muted-foreground max-w-xl"
		>
			No repo maintainers. No waiting for upstream. You write your own package recipes and control updates directly.
		</p>

		<!-- Terminal Preview -->
		<div class="animate-in fade-in slide-in-from-bottom-4 duration-700 delay-300 fill-mode-backwards mt-8 w-full max-w-md text-left">
			<CodeBlock
				code={`$ vim recipes/htop.rhai   # you write it
$ recipe install htop     # you run it
$ recipe llm "update htop to latest version"`}
				language="bash"
			/>
		</div>

		<!-- Features Grid -->
		<div
			class="animate-in fade-in slide-in-from-bottom-4 duration-700 delay-400 fill-mode-backwards mt-8 grid grid-cols-1 sm:grid-cols-2 gap-3 text-left max-w-lg"
		>
			{
				features.map((feature) => (
					<div class="flex items-center gap-2 text-sm text-muted-foreground">
						<svg class="w-4 h-4 text-primary flex-shrink-0" viewBox="0 0 256 256" fill="currentColor">
							<path d="M229.66 77.66l-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69l122.34-122.35a8 8 0 0 1 11.32 11.32Z" />
						</svg>
						{feature}
					</div>
				))
			}
		</div>

		<!-- CTAs -->
		<div class="animate-in fade-in slide-in-from-bottom-4 duration-700 delay-500 fill-mode-backwards mt-8 flex flex-col sm:flex-row gap-4">
			<a
				href="/download"
				class="inline-flex items-center justify-center gap-1.5 h-9 px-8 py-6 text-base font-medium bg-primary text-primary-foreground hover:bg-primary/90 transition-colors"
			>
				<svg class="h-4 w-4" viewBox="0 0 256 256" fill="currentColor">
					<path
						d="M224 152v56a16 16 0 0 1-16 16H48a16 16 0 0 1-16-16v-56a8 8 0 0 1 16 0v56h160v-56a8 8 0 0 1 16 0Zm-101.66 5.66a8 8 0 0 0 11.32 0l40-40a8 8 0 0 0-11.32-11.32L136 132.69V40a8 8 0 0 0-16 0v92.69l-26.34-26.35a8 8 0 0 0-11.32 11.32Z"
					></path>
				</svg>
				Download
			</a>
			<a
				href="https://github.com/LevitateOS/LevitateOS"
				target="_blank"
				rel="noopener noreferrer"
				class="inline-flex items-center justify-center gap-1.5 h-9 px-8 py-6 text-base font-medium border border-border bg-background hover:bg-muted transition-colors"
			>
				<svg class="h-4 w-4" viewBox="0 0 256 256" fill="currentColor">
					<path
						d="M208.31 75.68A59.78 59.78 0 0 0 202.93 28a8 8 0 0 0-6.93-4a59.75 59.75 0 0 0-48 24h-24a59.75 59.75 0 0 0-48-24a8 8 0 0 0-6.93 4a59.78 59.78 0 0 0-5.38 47.68A58.14 58.14 0 0 0 56 104v8a56.06 56.06 0 0 0 48.44 55.47A39.8 39.8 0 0 0 96 192v8H72a24 24 0 0 1-24-24a40 40 0 0 0-40-40a8 8 0 0 0 0 16a24 24 0 0 1 24 24a40 40 0 0 0 40 40h24v16a8 8 0 0 0 16 0v-40a24 24 0 0 1 48 0v40a8 8 0 0 0 16 0v-40a39.8 39.8 0 0 0-8.44-24.53A56.06 56.06 0 0 0 216 112v-8a58.14 58.14 0 0 0-7.69-28.32ZM200 112a40 40 0 0 1-40 40h-48a40 40 0 0 1-40-40v-8a41.74 41.74 0 0 1 6.9-22.48a8 8 0 0 0 1.1-7.69a43.81 43.81 0 0 1 .79-33.58a43.88 43.88 0 0 1 32.32 20.06a8 8 0 0 0 6.71 3.69h32.35a8 8 0 0 0 6.74-3.69a43.87 43.87 0 0 1 32.32-20.06a43.81 43.81 0 0 1 .77 33.58a8.09 8.09 0 0 0 1 7.65a41.72 41.72 0 0 1 7 22.52Z"
					></path>
				</svg>
				GitHub
			</a>
		</div>
	</div>

	<!-- Scroll Indicator -->
	<div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
		<svg class="w-6 h-6 text-muted-foreground/50" viewBox="0 0 256 256" fill="currentColor">
			<path d="M213.66 101.66l-80 80a8 8 0 0 1-11.32 0l-80-80a8 8 0 0 1 11.32-11.32L128 164.69l74.34-74.35a8 8 0 0 1 11.32 11.32Z"
			></path>
		</svg>
	</div>
</section>

<script>
	// Update logo based on theme
	function updateLogo() {
		const logo = document.getElementById("hero-logo") as HTMLImageElement
		if (logo) {
			const isDark = document.documentElement.classList.contains("dark")
			logo.src = isDark ? "/levitateos-dark.png" : "/levitateos-light.png"
		}
	}

	// Update on theme toggle
	const observer = new MutationObserver(updateLogo)
	observer.observe(document.documentElement, { attributes: true, attributeFilter: ["class"] })

	// Initial update
	updateLogo()
</script>
