---
import ThemeToggle from "../ThemeToggle.astro"
import LevitateTextLogo from "../brand/LevitateTextLogo.astro"
---

<header
	class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"
>
	<div class="container flex h-14 items-center justify-between px-4">
		<a href="/" class="flex items-center gap-2">
			<LevitateTextLogo className="text-base" />
		</a>

		<!-- Desktop navigation -->
		<nav class="hidden md:flex items-center gap-6">
			<a href="/" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">
				Home
			</a>
			<a href="/ralph4days" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">
				Ralph4days
			</a>
			<a href="/download" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">
				Download
			</a>
			<a
				href="/docs/getting-started"
				class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors"
			>
				Docs
			</a>
			<a
				href="/docs/recipe-format"
				class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors"
			>
				Recipes
			</a>
		</nav>

		<div class="flex items-center gap-2">
			<ThemeToggle />
			<a
				href="https://github.com/LevitateOS/LevitateOS"
				target="_blank"
				rel="noopener noreferrer"
				class="inline-flex items-center justify-center size-9 hover:bg-muted transition-colors"
			>
				<svg class="size-5" viewBox="0 0 256 256" fill="currentColor">
					<path
						d="M208.31 75.68A59.78 59.78 0 0 0 202.93 28a8 8 0 0 0-6.93-4a59.75 59.75 0 0 0-48 24h-24a59.75 59.75 0 0 0-48-24a8 8 0 0 0-6.93 4a59.78 59.78 0 0 0-5.38 47.68A58.14 58.14 0 0 0 56 104v8a56.06 56.06 0 0 0 48.44 55.47A39.8 39.8 0 0 0 96 192v8H72a24 24 0 0 1-24-24a40 40 0 0 0-40-40a8 8 0 0 0 0 16a24 24 0 0 1 24 24a40 40 0 0 0 40 40h24v16a8 8 0 0 0 16 0v-40a24 24 0 0 1 48 0v40a8 8 0 0 0 16 0v-40a39.8 39.8 0 0 0-8.44-24.53A56.06 56.06 0 0 0 216 112v-8a58.14 58.14 0 0 0-7.69-28.32ZM200 112a40 40 0 0 1-40 40h-48a40 40 0 0 1-40-40v-8a41.74 41.74 0 0 1 6.9-22.48a8 8 0 0 0 1.1-7.69a43.81 43.81 0 0 1 .79-33.58a43.88 43.88 0 0 1 32.32 20.06a8 8 0 0 0 6.71 3.69h32.35a8 8 0 0 0 6.74-3.69a43.87 43.87 0 0 1 32.32-20.06a43.81 43.81 0 0 1 .77 33.58a8.09 8.09 0 0 0 1 7.65a41.72 41.72 0 0 1 7 22.52Z"
					></path>
				</svg>
				<span class="sr-only">GitHub</span>
			</a>
			<!-- Mobile hamburger button -->
			<button
				type="button"
				id="mobile-menu-btn"
				class="md:hidden inline-flex items-center justify-center size-9 hover:bg-muted transition-colors select-none"
				aria-label="Open menu"
				aria-expanded="false"
			>
				<svg class="hamburger-icon size-5" viewBox="0 0 256 256" fill="currentColor">
					<path d="M224 128a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8ZM40 72h176a8 8 0 0 0 0-16H40a8 8 0 0 0 0 16Zm176 112H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Z" />
				</svg>
				<svg class="close-icon hidden size-5" viewBox="0 0 256 256" fill="currentColor">
					<path d="M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128L50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z" />
				</svg>
			</button>
		</div>
	</div>

	<!-- Mobile navigation menu -->
	<nav
		id="mobile-menu"
		class="hidden md:hidden border-t bg-background"
	>
		<div class="container px-4 py-3 flex flex-col gap-2">
			<a href="/" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2">
				Home
			</a>
			<a href="/ralph4days" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2">
				Ralph4days
			</a>
			<a href="/download" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2">
				Download
			</a>
			<a href="/docs/getting-started" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2">
				Docs
			</a>
			<a href="/docs/recipe-format" class="text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2">
				Recipes
			</a>
		</div>
	</nav>
</header>

<script>
	const menuBtn = document.getElementById("mobile-menu-btn")
	const mobileMenu = document.getElementById("mobile-menu")
	const hamburgerIcon = menuBtn?.querySelector(".hamburger-icon")
	const closeIcon = menuBtn?.querySelector(".close-icon")

	menuBtn?.addEventListener("click", () => {
		const isOpen = mobileMenu?.classList.contains("hidden") === false
		mobileMenu?.classList.toggle("hidden")
		hamburgerIcon?.classList.toggle("hidden")
		closeIcon?.classList.toggle("hidden")
		menuBtn.setAttribute("aria-expanded", String(!isOpen))
	})
</script>
